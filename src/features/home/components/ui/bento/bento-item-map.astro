---
import { Picture } from "astro:assets";
import mapDarkImage from "#/assets/images/map_dark.png";
import mapLightImage from "#/assets/images/map_light.png";
import NeumorphEyebrow from "#/components/ui/neumorph-eyebrow.astro";
import BentoItemBase from "./bento-item-base.astro";
---

<BentoItemBase
  size="1x1"
  href="https://www.google.com/maps/@35.682146268219824,139.79876900698156,15.375054950824978z"
  target="_blank"
  rel="noreferrer"
  transition={0.45}
  umamiEvent="map-click"
  umamiEventLocation="home-bento"
  className="relative overflow-hidden"
>
  <Picture
  src={mapLightImage}
  alt="マップ"
  class="size-full dark:hidden"
  formats={['avif']}
  priority={true}
  />
  <Picture
  src={mapDarkImage}
  alt="マップ"
  class="size-full hidden dark:block"
  formats={['avif']}
  priority={true}
  />
  <div class="absolute top-0 left-0 w-full h-full">
  <div class="absolute map-marker">
    <span class="relative grid place-content-center size-12">
    <span class="absolute inline-flex size-full map-pulse rounded-full bg-[var(--uchu-blue-3)] opacity-75"></span>
    <span class="inline-flex size-7 rounded-full bg-[var(--uchu-blue-3)] border-3 border-[var(--uchu-yang)] map-shadow"></span>
    </span>
  </div>
  </div>
  <NeumorphEyebrow class="absolute bottom-2 left-2">
  Tokyo, Japan
  </NeumorphEyebrow>
</BentoItemBase>

<style>
  .map-marker {
  left: 50%;
  top: 45%;
  transform: translate(-50%, -50%);
  }

  .map-pulse {
  animation: ping 1.5s cubic-bezier(0, 0, 0.2, 1) infinite;
  }

  .map-shadow {
  box-shadow: 0 16px 31px oklch(var(--uchu-yin-raw) / 0.13), 0 10px 18px oklch(var(--uchu-yin-raw) / 0.099), 0 6px 10px oklch(var(--uchu-yin-raw) / 0.079), 0 3px 5px oklch(var(--uchu-yin-raw) / 0.065), 0 1px 3px oklch(var(--uchu-yin-raw) / 0.051), 0 0 1px oklch(var(--uchu-yin-raw) / 0.031);
  }

  @keyframes ping {
  75%, 100% {
    transform: scale(2);
    opacity: 0;
  }
  }
</style>
