---
import { siteConfig } from "#/config/site";

interface Props {
  title?: string;
  description?: string;
  noindex?: boolean;
}

const { title, description, noindex = false } = Astro.props;

const resolvedTitle = title
  ? `${title}ï½œ${siteConfig.title}`
  : siteConfig.title;
const resolvedDescription = (description ?? siteConfig.description).slice(
  0,
  200,
);
const canonicalUrl = new URL(Astro.url.pathname, Astro.site).href;
const robotsContent = noindex ? "noindex, nofollow" : "index, follow";
---

<title>{resolvedTitle}</title>
<meta name="description" content={resolvedDescription} />
<link rel="canonical" href={canonicalUrl} />
<meta name="robots" content={robotsContent} />
<meta name="generator" content={Astro.generator} />
